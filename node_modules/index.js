// Importar Redux e create Store

const redux = require("redux")
const createStore = redux.legacy_createStore

// Actions e Actions TYPE

const CHANGEUSER = "CHANGEUSER"

const Logout = "Logout"

// Actions

function changeUser(user) {
    return {
        type: Change_User,
        info: "Change the current user",
        payload: user
    }
}

function logout(){
    return{
        type: Logout,
        info:"Logout thu current user"
    }
}

const initialState = {
    user:"",
    isLogged: false
}

// Reducers

function userReducer(prevState, action){
    switch(action.type){
        case CHANGEUSER:
            return{
                ...prevState,
                user:action.payload,
                isLogged: true
            }
            case Logout:
                return{
                    ...prevState,
                    user:"",
                    isLogged:false
                }
            default:
                return prevState    
    }
}

// Store

const store = createStore(userReducer)

console.log("initial state", store.getState())

store.dispatch(changeUser("Gabriel"))

console.log("New state", store.getState())
